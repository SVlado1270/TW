<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="Comparare.css">
    <script src="https://cdn.anychart.com/js/8.0.1/anychart-core.min.js"></script>
    <script src="https://cdn.anychart.com/js/8.0.1/anychart-pie.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <title>Compara Judetele</title>
</head>

<body>
    <div class="wrapper">
        <div class="header" style="background-color: #8c7ce92a;">
            <h1>Compararea Judetelor</h1>
            <div class="header_btns">
                <button onclick="func_bar()">BarChart</button>
                <button onclick="func_line()">LineChart</button>
                <button onclick="func_radar()">RadarChart</button>
            </div>
        </div>
        <div class="compare-area1" style="display: inline-block;">

            <h2 style="margin-top: 5vh; margin-left: 4.5vw;" id='nume_jud1'> HELLO </h2>

            <button onclick="func_varste()">Varste</button>
            <button onclick="func_educatie()">Educatie</button>
            <button onclick="func_medii()">Medii</button>
            <button onclick="func_rata()">Rata</button>


            <div id="bar1" style=" width:90%; height:70%; margin-left:1vw; ">
                <div class="container">
                    <canvas id="chart1" width="100"></canvas>
                </div>
                <script>
                    var currentLocation = window.location;
                    console.log(currentLocation.pathname.split('/'))
                    judet = currentLocation.pathname.split('/')[2]

                    //aaa

                    function getCriteriu(url) {
                        const parsedUrl = new URL(`https://www.dummyurl.dummy/${url}`) // i just need to parse the args
                        var crit = parsedUrl.searchParams.get('criteriu')
                        if (crit) {
                            return crit.split(',')
                        }
                        return []
                    }

                    function getJudet1(url) {
                        const parsedUrl = new URL(`https://www.dummyurl.dummy/${url}`) // i just need to parse the args
                        var jud = parsedUrl.searchParams.get('judet1')
                        if (jud) {
                            return jud.split(',')
                        }
                        return []
                    }

                    function getJudet2(url) {
                        const parsedUrl = new URL(`https://www.dummyurl.dummy/${url}`) // i just need to parse the args
                        var jud = parsedUrl.searchParams.get('judet2')
                        if (jud) {
                            return jud.split(',')
                        }
                        return []
                    }

                    function getChart_type(url) {
                        const parsedUrl = new URL(`https://www.dummyurl.dummy/${url}`) // i just need to parse the args
                        var jud = parsedUrl.searchParams.get('chart')
                        if (jud) {
                            return jud.split(',')
                        }
                        return []
                    }

                    console.log(currentLocation.search)

                    var criteriu = getCriteriu(currentLocation.href)
                    var jud1 = getJudet1(currentLocation.href)
                    var jud2 = getJudet2(currentLocation.href)
                    var tip_chart

                    document.getElementById('nume_jud1').innerHTML = `${jud1}`


                    if (getChart_type(currentLocation.href).length) {
                        tip_chart = getChart_type(currentLocation.href)
                        tip_chart = tip_chart[0]
                    } else
                        tip_chart = 'bar' // DEFAULT TYPE : BAR

                    console.log(tip_chart)

                    criteriu = criteriu[0]
                    jud1 = jud1[0]
                    jud2 = jud2[0]


                    //http://localhost:9000/Comparare?criteriu=varste&judet1=Calarasi&judet2=Constanta&chart=bar
                    function func_varste() {
                        var x = `http://localhost:9000/Comparare?criteriu=varste&judet1=${jud1}&judet2=${jud2}&chart=${tip_chart}`
                        console.log(x)
                        location.assign(x)
                    }

                    function func_medii() {
                        var x = `http://localhost:9000/Comparare?criteriu=medii&judet1=${jud1}&judet2=${jud2}&chart=${tip_chart}`
                        console.log(x)
                        location.assign(x)
                    }

                    function func_rata() {
                        var x = `http://localhost:9000/Comparare?criteriu=rata&judet1=${jud1}&judet2=${jud2}&chart=${tip_chart}`
                        console.log(x)
                        location.assign(x)
                    }

                    function func_educatie() {
                        var x = `http://localhost:9000/Comparare?criteriu=educatie&judet1=${jud1}&judet2=${jud2}&chart=${tip_chart}`
                        console.log(x)
                        location.assign(x)
                    }

                    function func_bar() {
                        var x = `http://localhost:9000/Comparare?criteriu=${criteriu}&judet1=${jud1}&judet2=${jud2}&chart=bar`
                        console.log(x)
                        console.log(x)
                        location.assign(x)
                    }

                    function func_line() {
                        var x = `http://localhost:9000/Comparare?criteriu=${criteriu}&judet1=${jud1}&judet2=${jud2}&chart=line`
                        console.log(x)
                        location.assign(x)
                    }

                    function func_radar() {
                        var x = `http://localhost:9000/Comparare?criteriu=${criteriu}&judet1=${jud1}&judet2=${jud2}&chart=radar`
                        console.log(x)
                        location.assign(x)
                    }



                    //console.log('AICI')
                    //console.log(jud1[0], jud2[0], criteriu[0])

                    var url = `http://localhost:9000/api/judet/${jud1}?${criteriu}`
                    console.log(url)

                    var LUNI = ['Aprilie', 'Mai', 'Iunie', 'Iulie', 'Septembrie', 'Octombrie', 'Noiembrie', 'Ianuarie', 'Decembrie', 'Martie']

                    var coloane = []
                    if (criteriu === 'varste')
                        coloane = ['TOTAL', 'Sub_25_ani', 'ani_25_29', 'ani_30_39', 'ani_40_49', 'ani_50_55', 'peste_55_ani']
                    if (criteriu === 'medii')
                        coloane = ['NUMAR_TOTAL_SOMERI', 'NUMAR_TOTAL_SOMERI_FEMEI', 'NUMAR_TOTAL_SOMERI_BARBATI', 'NUMAR_TOTAL_SOMERI_DIN_MEDIUL_URBAN', 'NUMAR_SOMERI_FEMEI_DIN_MEDIUL_URBAN', 'NUMAR_SOMERI_BARBATI_DIN_MEDIUL_URBAN', 'NUMAR_TOTAL_SOMERI_DIN_MEDIUL_RURAL', 'NUMAR_SOMERI_FEMEI_DIN_MEDIUL_RURAL', 'NUMAR_SOMERI_BARBATI_DIN_MEDIUL_RURAL']
                    if (criteriu === 'rata')
                        coloane = ['Numar_total_someri', 'Numar_total_someri_femei', 'Numar_total_someri_barbati', 'Numar_someri_indemnizati', 'Numar_someri_neindemnizati', 'Rata_somajului', 'Rata_somajului_Feminina', 'Rata_somajului_Masculina']
                    if (criteriu === 'educatie')
                        coloane = ['Total_someri_din_care', 'fara_studii', 'invatamant_primar', 'invatamant_gimnazial', 'invatamant_liceal', 'invatamant_postliceal', 'invatamant_profesional/arte_si_meserii', 'invatamant_universitar']

                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            var json = JSON.parse(this.response);
                            var array1 = []
                            var array2 = []
                            var array3 = []
                            var array4 = []
                            var array5 = []
                            var array6 = []
                            var array7 = []
                            var array8 = []
                            var array9 = []
                            if (criteriu === 'varste') {
                                for (var i = 0; i < json.length; i++) {
                                    console.log()
                                        // luni.push(json[i].luna);
                                    array1.push(json[i].TOTAL)
                                    array2.push(json[i].Sub_25_ani)
                                    array3.push(json[i].ani_25_29)
                                    array4.push(json[i].ani_30_39)
                                    array4.push(json[i].ani_40_49)
                                    array6.push(json[i].ani_50_55)
                                    array7.push(json[i].peste_55_ani)
                                }
                            } else if (criteriu === 'medii') {
                                for (var i = 0; i < json.length; i++) {
                                    // luni.push(json[i].luna);
                                    array1.push(json[i].NUMAR_TOTAL_SOMERI)
                                    array2.push(json[i].NUMAR_TOTAL_SOMERI_FEMEI)
                                    array3.push(json[i].NUMAR_TOTAL_SOMERI_BARBATI)
                                    array4.push(json[i].NUMAR_TOTAL_SOMERI_DIN_MEDIUL_URBAN)
                                    array5.push(json[i].NUMAR_SOMERI_FEMEI_DIN_MEDIUL_URBAN)
                                    array6.push(json[i].NUMAR_SOMERI_BARBATI_DIN_MEDIUL_URBAN)
                                    array7.push(json[i].NUMAR_TOTAL_SOMERI_DIN_MEDIUL_RURAL)
                                    array8.push(json[i].NUMAR_SOMERI_FEMEI_DIN_MEDIUL_RURAL)
                                    array9.push(json[i].NUMAR_SOMERI_BARBATI_DIN_MEDIUL_RURAL)
                                }
                            } else if (criteriu === 'rata') {
                                for (var i = 0; i < json.length; i++) {
                                    // luni.push(json[i].luna);
                                    array1.push(json[i].Numar_total_someri)
                                    array2.push(json[i].Numar_total_someri_femei)
                                    array3.push(json[i].Numar_total_someri_barbati)
                                    array4.push(json[i].Numar_someri_indemnizati)
                                    array5.push(json[i].Numar_someri_neindemnizati)
                                    array6.push(json[i].Rata_somajului)
                                    array7.push(json[i].Rata_somajului_Feminina)
                                    array8.push(json[i].Rata_somajului_Masculina)
                                }
                            } else if (criteriu === 'educatie') {
                                for (var i = 0; i < json.length; i++) {
                                    // luni.push(json[i].luna);
                                    array1.push(json[i].Total_someri_din_care)
                                    array2.push(json[i].fara_studii)
                                    array3.push(json[i].invatamant_primar)
                                    array4.push(json[i].invatamant_gimnazial)
                                    array5.push(json[i].invatamant_liceal)
                                    array6.push(json[i].invatamant_posticeal)
                                    array7.push(json[i]['invatamant_profesional/arte_si_meserii'])
                                    array8.push(json[i].invatamant_universitar)
                                }
                            }

                            function get_data(a, b, c, d, e, f, g, h, i, nume_coloana, crit) {

                                if (crit === 'varste') {
                                    if (nume_coloana === 'TOTAL')
                                        return a;
                                    if (nume_coloana === 'Sub_25_ani')
                                        return b;
                                    if (nume_coloana === 'ani_25_29')
                                        return c;
                                    if (nume_coloana === 'ani_30_39')
                                        return d;
                                    if (nume_coloana === 'ani_40_49')
                                        return e;
                                    if (nume_coloana === 'ani_50_55')
                                        return f;
                                    if (nume_coloana === 'peste_55_ani')
                                        return g;
                                } else if (crit === 'medii') {
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI')
                                        return a;
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI_FEMEI')
                                        return b;
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI_BARBATI')
                                        return c;
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI_DIN_MEDIUL_UBRAN')
                                        return d;
                                    if (nume_coloana === 'NUMAR_SOMERI_FEMEI_DIN_MEDIUL_URBAN')
                                        return e;
                                    if (nume_coloana === 'NUMAR_SOMERI_BARBATI_DIN_MEDIUL_URBAN')
                                        return f;
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI_DIN_MEDIUL_RURAL')
                                        return g;
                                    if (nume_coloana === 'NUMAR_SOMERI_FEMEI_DIN_MEDIUL_RURAL')
                                        return h;
                                    if (nume_coloana === 'NUMAR_SOMERI_BARBATI_DIN_MEDIUL_RURAL')
                                        return i;
                                } else if (crit === 'rata') {
                                    if (nume_coloana === 'Numar_total_someri')
                                        return a;
                                    if (nume_coloana === 'Numar_total_someri_femei')
                                        return b;
                                    if (nume_coloana === 'Numar_total_someri_barbati')
                                        return c;
                                    if (nume_coloana === 'Numar_someri_indemnizati')
                                        return d;
                                    if (nume_coloana === 'Numar_someri_neindemnizati')
                                        return e;
                                    if (nume_coloana === 'Numar_someri_neindemnizati')
                                        return f;
                                    if (nume_coloana === 'Rata_somajului')
                                        return g;
                                    if (nume_coloana === 'Rata_somajului_Feminina')
                                        return h;
                                    if (nume_coloana === 'Rata_somajului_Masculina')
                                        return i;
                                } else if (crit === 'educatie') {
                                    if (nume_coloana === 'Total_someri_din_care')
                                        return a;
                                    if (nume_coloana === 'fara_studii')
                                        return b;
                                    if (nume_coloana === 'invatamant_primar')
                                        return c;
                                    if (nume_coloana === 'invatamant_gimnazial')
                                        return d;
                                    if (nume_coloana === 'invatamant_liceal')
                                        return e;
                                    if (nume_coloana === 'invatamant_postliceal')
                                        return f;
                                    if (nume_coloana === 'invatamant_profesional/arte_si_meserii')
                                        return g;
                                    if (nume_coloana === 'invatamant_universitar')
                                        return h;
                                }
                            }


                            var ctx = document.getElementById('chart1').getContext('2d');
                            var myChart = new Chart(ctx, {
                                type: tip_chart,
                                data: {
                                    labels: LUNI,
                                    datasets: [{
                                            label: coloane[0],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[0], criteriu),
                                            backgroundColor: [
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)'

                                            ],
                                            borderColor: [
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)'
                                            ],
                                            borderWidth: 1
                                        },

                                        {
                                            label: coloane[1],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[1], criteriu),
                                            backgroundColor: [
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[2],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[2], criteriu),
                                            backgroundColor: [
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[3],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[3], criteriu),
                                            backgroundColor: [
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)'
                                            ],
                                            borderColor: [
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[4],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[4], criteriu),
                                            backgroundColor: [
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)'
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[5],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[5], criteriu),
                                            backgroundColor: [
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)'
                                            ],
                                            borderColor: [
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[6],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[6], criteriu),
                                            backgroundColor: [
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[7],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[7], criteriu),
                                            backgroundColor: [
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[8],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[8], criteriu),
                                            backgroundColor: [
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                            ],
                                            borderWidth: 1
                                        }


                                    ]
                                },
                                options: {
                                    legend: {
                                        labels: {
                                            generateLabels: function(chart) {
                                                labels = Chart.defaults.global.legend.labels.generateLabels(chart);
                                                if (coloane[0]) {
                                                    labels[0].fillStyle = 'rgba(255, 99, 132, 0.2)';
                                                    labels[0].strokeStyle = 'rgba(255, 99, 132, 0.2)';
                                                }

                                                if (coloane[1]) {
                                                    labels[1].fillStyle = 'rgba(54, 162, 235, 0.2)';
                                                    labels[1].strokeStyle = 'rgba(54, 162, 235, 0.2)';
                                                }

                                                if (coloane[2]) {
                                                    labels[2].fillStyle = 'rgba(255, 206, 86, 0.2)';
                                                    labels[2].strokeStyle = 'rgba(255, 206, 86, 0.2)';
                                                }

                                                if (coloane[3]) {
                                                    labels[3].fillStyle = 'rgba(75, 192, 192, 0.2)';
                                                    labels[3].strokeStyle = 'rgba(75, 192, 192, 0.2)';
                                                }
                                                if (coloane[4]) {
                                                    labels[4].fillStyle = 'rgba(153, 102, 255, 0.2)';
                                                    labels[4].strokeStyle = 'rgba(153, 102, 255, 0.2)';
                                                }

                                                if (coloane[5]) {
                                                    labels[5].fillStyle = 'rgba(255, 159, 64, 0.2)';
                                                    labels[5].strokeStyle = 'rgba(255, 159, 64, 0.2)';
                                                }

                                                if (coloane[6]) {
                                                    labels[6].fillStyle = 'rgba(123, 98, 50, 0.2)';
                                                    labels[6].strokeStyle = 'rgba(123, 98, 50, 0.2)';
                                                }

                                                if (coloane[7]) {
                                                    labels[7].fillStyle = 'rgba(0,0,139, 0.2)';
                                                    labels[7].strokeStyle = 'rgba(0,0,139, 0.2)';
                                                }

                                                if (coloane[8]) {
                                                    labels[8].fillStyle = 'rgba(128,0,128, 0.2)';
                                                    labels[8].strokeStyle = 'rgba(128,0,128, 0.2)';
                                                }

                                                return labels;
                                            }
                                        }
                                    }
                                }
                            });
                        }
                    };
                    xhttp.open("GET", url, false);
                    xhttp.send();
                </script>
            </div>
        </div>
        <div class="compare-area2" style="display: inline-block;">

            <h2 style="margin-top: 5vh; margin-left: 4.5vw;" id='nume_jud2'> HELLO </h2>

            <button onclick="func_varste()">Varste</button>
            <button onclick="func_educatie()">Educatie</button>
            <button onclick="func_medii()">Medii</button>
            <button onclick="func_rata()">Rata</button>

            <div id="bar2" style=" width:90%; height:70%; margin-left:1vw; ">
                <div class="container">
                    <canvas id="chart2" width="100"></canvas>
                </div>
                <script>
                    var currentLocation = window.location;
                    console.log(currentLocation.pathname.split('/'))
                    judet = currentLocation.pathname.split('/')[2]

                    //aaa

                    function getCriteriu(url) {
                        const parsedUrl = new URL(`https://www.dummyurl.dummy/${url}`) // i just need to parse the args
                        var crit = parsedUrl.searchParams.get('criteriu')
                        if (crit) {
                            return crit.split(',')
                        }
                        return []
                    }

                    function getJudet1(url) {
                        const parsedUrl = new URL(`https://www.dummyurl.dummy/${url}`) // i just need to parse the args
                        var jud = parsedUrl.searchParams.get('judet1')
                        if (jud) {
                            return jud.split(',')
                        }
                        return []
                    }

                    function getJudet2(url) {
                        const parsedUrl = new URL(`https://www.dummyurl.dummy/${url}`) // i just need to parse the args
                        var jud = parsedUrl.searchParams.get('judet2')
                        if (jud) {
                            return jud.split(',')
                        }
                        return []
                    }

                    function getChart_type(url) {
                        const parsedUrl = new URL(`https://www.dummyurl.dummy/${url}`) // i just need to parse the args
                        var jud = parsedUrl.searchParams.get('chart')
                        if (jud) {
                            return jud.split(',')
                        }
                        return []
                    }

                    console.log(currentLocation.search)

                    var criteriu = getCriteriu(currentLocation.href)
                    var jud1 = getJudet1(currentLocation.href)
                    var jud2 = getJudet2(currentLocation.href)
                    var tip_chart

                    document.getElementById('nume_jud2').innerHTML = `${jud2}`


                    if (getChart_type(currentLocation.href).length) {
                        tip_chart = getChart_type(currentLocation.href)
                        tip_chart = tip_chart[0]
                    } else
                        tip_chart = 'bar' // DEFAULT TYPE : BAR

                    console.log(tip_chart)

                    criteriu = criteriu[0]
                    jud1 = jud1[0]
                    jud2 = jud2[0]




                    //console.log('AICI')
                    //console.log(jud1[0], jud2[0], criteriu[0])

                    var url = `http://localhost:9000/api/judet/${jud2}?${criteriu}`
                    console.log(url)

                    var LUNI = ['Aprilie', 'Mai', 'Iunie', 'Iulie', 'Septembrie', 'Octombrie', 'Noiembrie', 'Ianuarie', 'Decembrie', 'Martie']

                    var coloane = []
                    if (criteriu === 'varste')
                        coloane = ['TOTAL', 'Sub_25_ani', 'ani_25_29', 'ani_30_39', 'ani_40_49', 'ani_50_55', 'peste_55_ani']
                    if (criteriu === 'medii')
                        coloane = ['NUMAR_TOTAL_SOMERI', 'NUMAR_TOTAL_SOMERI_FEMEI', 'NUMAR_TOTAL_SOMERI_BARBATI', 'NUMAR_TOTAL_SOMERI_DIN_MEDIUL_URBAN', 'NUMAR_SOMERI_FEMEI_DIN_MEDIUL_URBAN', 'NUMAR_SOMERI_BARBATI_DIN_MEDIUL_URBAN', 'NUMAR_TOTAL_SOMERI_DIN_MEDIUL_RURAL', 'NUMAR_SOMERI_FEMEI_DIN_MEDIUL_RURAL', 'NUMAR_SOMERI_BARBATI_DIN_MEDIUL_RURAL']
                    if (criteriu === 'rata')
                        coloane = ['Numar_total_someri', 'Numar_total_someri_femei', 'Numar_total_someri_barbati', 'Numar_someri_indemnizati', 'Numar_someri_neindemnizati', 'Rata_somajului', 'Rata_somajului_Feminina', 'Rata_somajului_Masculina']
                    if (criteriu === 'educatie')
                        coloane = ['Total_someri_din_care', 'fara_studii', 'invatamant_primar', 'invatamant_gimnazial', 'invatamant_liceal', 'invatamant_postliceal', 'invatamant_profesional/arte_si_meserii', 'invatamant_universitar']

                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            var json = JSON.parse(this.response);
                            var array1 = []
                            var array2 = []
                            var array3 = []
                            var array4 = []
                            var array5 = []
                            var array6 = []
                            var array7 = []
                            var array8 = []
                            var array9 = []
                            if (criteriu === 'varste') {
                                for (var i = 0; i < json.length; i++) {
                                    console.log()
                                        // luni.push(json[i].luna);
                                    array1.push(json[i].TOTAL)
                                    array2.push(json[i].Sub_25_ani)
                                    array3.push(json[i].ani_25_29)
                                    array4.push(json[i].ani_30_39)
                                    array4.push(json[i].ani_40_49)
                                    array6.push(json[i].ani_50_55)
                                    array7.push(json[i].peste_55_ani)
                                }
                            } else if (criteriu === 'medii') {
                                for (var i = 0; i < json.length; i++) {
                                    // luni.push(json[i].luna);
                                    array1.push(json[i].NUMAR_TOTAL_SOMERI)
                                    array2.push(json[i].NUMAR_TOTAL_SOMERI_FEMEI)
                                    array3.push(json[i].NUMAR_TOTAL_SOMERI_BARBATI)
                                    array4.push(json[i].NUMAR_TOTAL_SOMERI_DIN_MEDIUL_URBAN)
                                    array5.push(json[i].NUMAR_SOMERI_FEMEI_DIN_MEDIUL_URBAN)
                                    array6.push(json[i].NUMAR_SOMERI_BARBATI_DIN_MEDIUL_URBAN)
                                    array7.push(json[i].NUMAR_TOTAL_SOMERI_DIN_MEDIUL_RURAL)
                                    array8.push(json[i].NUMAR_SOMERI_FEMEI_DIN_MEDIUL_RURAL)
                                    array9.push(json[i].NUMAR_SOMERI_BARBATI_DIN_MEDIUL_RURAL)
                                }
                            } else if (criteriu === 'rata') {
                                for (var i = 0; i < json.length; i++) {
                                    // luni.push(json[i].luna);
                                    array1.push(json[i].Numar_total_someri)
                                    array2.push(json[i].Numar_total_someri_femei)
                                    array3.push(json[i].Numar_total_someri_barbati)
                                    array4.push(json[i].Numar_someri_indemnizati)
                                    array5.push(json[i].Numar_someri_neindemnizati)
                                    array6.push(json[i].Rata_somajului)
                                    array7.push(json[i].Rata_somajului_Feminina)
                                    array8.push(json[i].Rata_somajului_Masculina)
                                }
                            } else if (criteriu === 'educatie') {
                                for (var i = 0; i < json.length; i++) {
                                    // luni.push(json[i].luna);
                                    array1.push(json[i].Total_someri_din_care)
                                    array2.push(json[i].fara_studii)
                                    array3.push(json[i].invatamant_primar)
                                    array4.push(json[i].invatamant_gimnazial)
                                    array5.push(json[i].invatamant_liceal)
                                    array6.push(json[i].invatamant_posticeal)
                                    array7.push(json[i]['invatamant_profesional/arte_si_meserii'])
                                    array8.push(json[i].invatamant_universitar)
                                }
                            }

                            function get_data(a, b, c, d, e, f, g, h, i, nume_coloana, crit) {

                                if (crit === 'varste') {
                                    if (nume_coloana === 'TOTAL')
                                        return a;
                                    if (nume_coloana === 'Sub_25_ani')
                                        return b;
                                    if (nume_coloana === 'ani_25_29')
                                        return c;
                                    if (nume_coloana === 'ani_30_39')
                                        return d;
                                    if (nume_coloana === 'ani_40_49')
                                        return e;
                                    if (nume_coloana === 'ani_50_55')
                                        return f;
                                    if (nume_coloana === 'peste_55_ani')
                                        return g;
                                } else if (crit === 'medii') {
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI')
                                        return a;
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI_FEMEI')
                                        return b;
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI_BARBATI')
                                        return c;
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI_DIN_MEDIUL_UBRAN')
                                        return d;
                                    if (nume_coloana === 'NUMAR_SOMERI_FEMEI_DIN_MEDIUL_URBAN')
                                        return e;
                                    if (nume_coloana === 'NUMAR_SOMERI_BARBATI_DIN_MEDIUL_URBAN')
                                        return f;
                                    if (nume_coloana === 'NUMAR_TOTAL_SOMERI_DIN_MEDIUL_RURAL')
                                        return g;
                                    if (nume_coloana === 'NUMAR_SOMERI_FEMEI_DIN_MEDIUL_RURAL')
                                        return h;
                                    if (nume_coloana === 'NUMAR_SOMERI_BARBATI_DIN_MEDIUL_RURAL')
                                        return i;
                                } else if (crit === 'rata') {
                                    if (nume_coloana === 'Numar_total_someri')
                                        return a;
                                    if (nume_coloana === 'Numar_total_someri_femei')
                                        return b;
                                    if (nume_coloana === 'Numar_total_someri_barbati')
                                        return c;
                                    if (nume_coloana === 'Numar_someri_indemnizati')
                                        return d;
                                    if (nume_coloana === 'Numar_someri_neindemnizati')
                                        return e;
                                    if (nume_coloana === 'Numar_someri_neindemnizati')
                                        return f;
                                    if (nume_coloana === 'Rata_somajului')
                                        return g;
                                    if (nume_coloana === 'Rata_somajului_Feminina')
                                        return h;
                                    if (nume_coloana === 'Rata_somajului_Masculina')
                                        return i;
                                } else if (crit === 'educatie') {
                                    if (nume_coloana === 'Total_someri_din_care')
                                        return a;
                                    if (nume_coloana === 'fara_studii')
                                        return b;
                                    if (nume_coloana === 'invatamant_primar')
                                        return c;
                                    if (nume_coloana === 'invatamant_gimnazial')
                                        return d;
                                    if (nume_coloana === 'invatamant_liceal')
                                        return e;
                                    if (nume_coloana === 'invatamant_postliceal')
                                        return f;
                                    if (nume_coloana === 'invatamant_profesional/arte_si_meserii')
                                        return g;
                                    if (nume_coloana === 'invatamant_universitar')
                                        return h;
                                }
                            }


                            var ctx = document.getElementById('chart2').getContext('2d');
                            var myChart = new Chart(ctx, {
                                type: tip_chart,
                                data: {
                                    labels: LUNI,
                                    datasets: [{
                                            label: coloane[0],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[0], criteriu),
                                            backgroundColor: [
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)',
                                                'rgba(255, 99, 132, 0.2)'

                                            ],
                                            borderColor: [
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)',
                                                'rgba(255, 99, 132, 1)'
                                            ],
                                            borderWidth: 1
                                        },

                                        {
                                            label: coloane[1],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[1], criteriu),
                                            backgroundColor: [
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                                'rgba(54, 162, 235, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                                'rgba(54, 162, 235, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[2],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[2], criteriu),
                                            backgroundColor: [
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                                'rgba(255, 206, 86, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                                'rgba(255, 206, 86, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[3],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[3], criteriu),
                                            backgroundColor: [
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)',
                                                'rgba(75, 192, 192, 0.2)'
                                            ],
                                            borderColor: [
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                                'rgba(75, 192, 192, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[4],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[4], criteriu),
                                            backgroundColor: [
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                                'rgba(153, 102, 255, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)',
                                                'rgba(153, 102, 255, 1)'
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[5],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[5], criteriu),
                                            backgroundColor: [
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)',
                                                'rgba(255, 159, 64, 0.2)'
                                            ],
                                            borderColor: [
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                                'rgba(255, 159, 64, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[6],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[6], criteriu),
                                            backgroundColor: [
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                                'rgba(123, 98, 50, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                                'rgba(123, 98, 50, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[7],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[7], criteriu),
                                            backgroundColor: [
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                                'rgba(0,0,139, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                                'rgba(0,0,139, 1)',
                                            ],
                                            borderWidth: 1
                                        }, {
                                            label: coloane[8],
                                            data: get_data(array1, array2, array3, array4, array5, array6, array7, array8, array9, coloane[8], criteriu),
                                            backgroundColor: [
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                                'rgba(128,0,128, 0.2)',
                                            ],
                                            borderColor: [
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                                'rgba(128,0,128, 1)',
                                            ],
                                            borderWidth: 1
                                        }


                                    ]
                                },
                                options: {
                                    legend: {
                                        labels: {
                                            generateLabels: function(chart) {
                                                labels = Chart.defaults.global.legend.labels.generateLabels(chart);
                                                if (coloane[0]) {
                                                    labels[0].fillStyle = 'rgba(255, 99, 132, 0.2)';
                                                    labels[0].strokeStyle = 'rgba(255, 99, 132, 0.2)';
                                                }

                                                if (coloane[1]) {
                                                    labels[1].fillStyle = 'rgba(54, 162, 235, 0.2)';
                                                    labels[1].strokeStyle = 'rgba(54, 162, 235, 0.2)';
                                                }

                                                if (coloane[2]) {
                                                    labels[2].fillStyle = 'rgba(255, 206, 86, 0.2)';
                                                    labels[2].strokeStyle = 'rgba(255, 206, 86, 0.2)';
                                                }

                                                if (coloane[3]) {
                                                    labels[3].fillStyle = 'rgba(75, 192, 192, 0.2)';
                                                    labels[3].strokeStyle = 'rgba(75, 192, 192, 0.2)';
                                                }
                                                if (coloane[4]) {
                                                    labels[4].fillStyle = 'rgba(153, 102, 255, 0.2)';
                                                    labels[4].strokeStyle = 'rgba(153, 102, 255, 0.2)';
                                                }

                                                if (coloane[5]) {
                                                    labels[5].fillStyle = 'rgba(255, 159, 64, 0.2)';
                                                    labels[5].strokeStyle = 'rgba(255, 159, 64, 0.2)';
                                                }

                                                if (coloane[6]) {
                                                    labels[6].fillStyle = 'rgba(123, 98, 50, 0.2)';
                                                    labels[6].strokeStyle = 'rgba(123, 98, 50, 0.2)';
                                                }

                                                if (coloane[7]) {
                                                    labels[7].fillStyle = 'rgba(0,0,139, 0.2)';
                                                    labels[7].strokeStyle = 'rgba(0,0,139, 0.2)';
                                                }

                                                if (coloane[8]) {
                                                    labels[8].fillStyle = 'rgba(128,0,128, 0.2)';
                                                    labels[8].strokeStyle = 'rgba(128,0,128, 0.2)';
                                                }

                                                return labels;
                                            }
                                        }
                                    }
                                }
                            });
                        }
                    };
                    xhttp.open("GET", url, false);
                    xhttp.send();
                </script>
            </div>

        </div>
    </div>
</body>

</html>